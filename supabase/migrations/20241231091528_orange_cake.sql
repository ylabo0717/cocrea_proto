/*
  # サンプルissueデータの作成

  1. 内容
    - 開発中のアプリケーションに関する課題を10件作成
    - 優先度、ステータス、カテゴリを適切に設定
    - Markdownで詳細な説明を記述
*/

INSERT INTO contents (
  type,
  title,
  body,
  status,
  priority,
  category,
  tags,
  author_id,
  application_id
) VALUES
  (
    'issue',
    'ダッシュボードの表示速度改善',
    E'# 課題の概要\n\nダッシュボードの初期表示に時間がかかりすぎている（3秒以上）。\n\n## 現状の問題点\n\n- 大量のデータを一度に取得している\n- 画像の最適化ができていない\n- クエリの実行回数が多い\n\n## 改善案\n\n1. データの取得を必要な分だけに制限\n2. 画像のLazy Loading実装\n3. クエリの最適化\n   - JOINの見直し\n   - インデックスの追加\n\n## 期待される効果\n\n- 表示速度を1秒以内に改善\n- サーバーの負荷軽減\n- ユーザー体験の向上',
    'open',
    'high',
    'performance',
    ARRAY['dashboard', 'optimization'],
    'c9f3f4d7-8c7b-4d8a-9e5f-7f2c1d3b4a5e',
    'b2c3d4e5-f6a7-5b4c-9d8e-0f1a2b3c4d5e'
  ),
  (
    'issue',
    'ユーザー認証の強化',
    E'# セキュリティ強化要件\n\n現在のユーザー認証システムをより安全なものに改善する必要がある。\n\n## 実装すべき機能\n\n1. 二要素認証（2FA）\n   - SMSまたはメールでの認証コード送信\n   - 認証アプリケーションの対応\n\n2. パスワードポリシーの強化\n   - 最小文字数: 12文字\n   - 大文字・小文字・数字・記号を必須化\n   - パスワード有効期限の設定\n\n3. ログイン試行の制限\n   - 5回失敗でアカウントロック\n   - 30分後に自動解除\n\n## 参考資料\n\n- [OWASP認証のベストプラクティス](https://example.com)\n- [NIST認証ガイドライン](https://example.com)',
    'in_progress',
    'high',
    'security',
    ARRAY['authentication', 'security'],
    'd7b5492f-0d13-4851-9bcd-9c96c9c21b2c',
    'a1b2c3d4-e5f6-4a3b-8c7d-9e0f1a2b3c4d'
  ),
  (
    'issue',
    'レポート出力機能の改善',
    E'# レポート機能改善提案\n\n## 現状の課題\n\n1. PDFの出力形式が固定的\n2. 大量データ時の処理が遅い\n3. カスタマイズ性が低い\n\n## 改善要件\n\n### 出力形式の多様化\n- Excel形式のサポート\n- CSVエクスポート機能\n- カスタムテンプレートの適用\n\n### パフォーマンス改善\n- バッチ処理の導入\n- 非同期処理への移行\n- キャッシュの活用\n\n### UI/UX改善\n- プレビュー機能\n- ドラッグ&ドロップでのカスタマイズ\n- 保存済みテンプレート機能',
    'open',
    'medium',
    'feature',
    ARRAY['report', 'export'],
    'e8d9c6b5-4a3f-2e1d-9c8b-7f6e5d4c3b2a',
    'c3d4e5f6-a7b8-6c5d-0e9f-1a2b3c4d5e6f'
  ),
  (
    'issue',
    'モバイル対応の実装',
    E'# モバイル対応化計画\n\n## 目的\n\nスマートフォンやタブレットからの利用を可能にし、ユーザーの利便性を向上させる。\n\n## 実装範囲\n\n1. レスポンシブデザインの適用\n   - ブレークポイントの設定\n   - フレックスボックスレイアウトの活用\n   - タッチ操作の最適化\n\n2. モバイル特有の機能\n   - プッシュ通知\n   - カメラ・位置情報の活用\n   - オフライン対応\n\n3. パフォーマンス最適化\n   - 画像の最適化\n   - バンドルサイズの削減\n   - Service Workerの導入\n\n## テスト計画\n\n- クロスブラウザテスト\n- デバイス別テスト\n- ネットワーク環境テスト',
    'open',
    'medium',
    'enhancement',
    ARRAY['mobile', 'responsive'],
    'f7e6d5c4-3b2a-1c9d-8e7f-6a5b4c3d2e1f',
    'b2c3d4e5-f6a7-5b4c-9d8e-0f1a2b3c4d5e'
  ),
  (
    'issue',
    'データバックアップシステムの構築',
    E'# バックアップシステム要件\n\n## バックアップ要件\n\n1. 自動バックアップ\n   - 日次増分バックアップ\n   - 週次フルバックアップ\n   - 月次アーカイブ\n\n2. リストア機能\n   - ポイントインタイムリカバリ\n   - 選択的リストア\n   - テスト環境での検証\n\n3. 監視・通知\n   - バックアップ成功/失敗の通知\n   - ストレージ使用量の監視\n   - リストア実行の監査ログ\n\n## セキュリティ要件\n\n- データの暗号化\n- アクセス制御\n- 監査ログの保存',
    'in_progress',
    'high',
    'infrastructure',
    ARRAY['backup', 'disaster-recovery'],
    'd7b5492f-0d13-4851-9bcd-9c96c9c21b2c',
    'a1b2c3d4-e5f6-4a3b-8c7d-9e0f1a2b3c4d'
  ),
  (
    'issue',
    'ワークフロー承認機能の実装',
    E'# ワークフロー承認システム仕様\n\n## 機能要件\n\n1. 承認フロー設定\n   - 複数承認者の設定\n   - 承認順序の制御\n   - 代理承認者の設定\n\n2. 通知機能\n   - メール通知\n   - システム内通知\n   - リマインダー送信\n\n3. 履歴管理\n   - 承認履歴の記録\n   - コメント機能\n   - 変更履歴の追跡\n\n## UI要件\n\n- 直感的な操作性\n- ステータスの可視化\n- モバイル対応',
    'open',
    'medium',
    'feature',
    ARRAY['workflow', 'approval'],
    'c9f3f4d7-8c7b-4d8a-9e5f-7f2c1d3b4a5e',
    'c3d4e5f6-a7b8-6c5d-0e9f-1a2b3c4d5e6f'
  ),
  (
    'issue',
    'APIのパフォーマンス改善',
    E'# API最適化計画\n\n## 現状の課題\n\n1. レスポンス時間が遅い\n2. 不必要なデータを取得している\n3. キャッシュが効果的に機能していない\n\n## 改善施策\n\n### クエリの最適化\n- インデックスの見直し\n- クエリのチューニング\n- N+1問題の解消\n\n### キャッシュ戦略\n- Redis導入\n- キャッシュ有効期限の最適化\n- 分散キャッシュの検討\n\n### レスポンス最適化\n- ページネーション導入\n- レスポンスの圧縮\n- 必要最小限のデータ取得',
    'in_progress',
    'high',
    'performance',
    ARRAY['api', 'optimization'],
    'd7b5492f-0d13-4851-9bcd-9c96c9c21b2c',
    'b2c3d4e5-f6a7-5b4c-9d8e-0f1a2b3c4d5e'
  ),
  (
    'issue',
    'ログ管理システムの改善',
    E'# ログ管理システム改善計画\n\n## 現状の課題\n\n1. ログの分散管理\n2. 検索機能の不足\n3. アラート設定の柔軟性不足\n\n## 改善要件\n\n### 集中管理\n- ELKスタックの導入\n- ログの構造化\n- リアルタイム分析\n\n### 検索機能\n- 全文検索\n- フィルタリング\n- カスタムクエリ\n\n### アラート機能\n- カスタムルール\n- 通知チャンネル設定\n- エスカレーション設定',
    'open',
    'medium',
    'infrastructure',
    ARRAY['logging', 'monitoring'],
    'c9f3f4d7-8c7b-4d8a-9e5f-7f2c1d3b4a5e',
    'a1b2c3d4-e5f6-4a3b-8c7d-9e0f1a2b3c4d'
  ),
  (
    'issue',
    'テスト自動化の導入',
    E'# テスト自動化計画\n\n## 目的\n\n手動テストの負荷を軽減し、品質を向上させる。\n\n## 実装計画\n\n### 自動テスト範囲\n1. ユニットテスト\n   - コンポーネントテスト\n   - ビジネスロジックテスト\n\n2. 統合テスト\n   - APIテスト\n   - DBテスト\n\n3. E2Eテスト\n   - ユーザーシナリオテスト\n   - クロスブラウザテスト\n\n## ツール選定\n\n- Jest\n- Cypress\n- Selenium',
    'open',
    'medium',
    'testing',
    ARRAY['automation', 'testing'],
    'e8d9c6b5-4a3f-2e1d-9c8b-7f6e5d4c3b2a',
    'b2c3d4e5-f6a7-5b4c-9d8e-0f1a2b3c4d5e'
  ),
  (
    'issue',
    'セキュリティ監査対応',
    E'# セキュリティ監査対応計画\n\n## 監査要件\n\n1. 脆弱性診断\n   - ペネトレーションテスト\n   - コード診断\n   - 設定診断\n\n2. コンプライアンス対応\n   - GDPR対応\n   - PCI DSS対応\n   - 社内セキュリティポリシー\n\n3. セキュリティ強化\n   - WAF導入\n   - 暗号化強化\n   - アクセス制御見直し\n\n## スケジュール\n\n1. 事前診断: 2週間\n2. 対策実装: 1ヶ月\n3. 検証: 2週間',
    'in_progress',
    'high',
    'security',
    ARRAY['security', 'audit'],
    'd7b5492f-0d13-4851-9bcd-9c96c9c21b2c',
    'c3d4e5f6-a7b8-6c5d-0e9f-1a2b3c4d5e6f'
  );